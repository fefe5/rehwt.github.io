WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:05.519
Okay. So let's see a full example of how the server and client-side can work together.

00:00:05.519 --> 00:00:09.599
I'm going to start my server using the command node and then the name of

00:00:09.599 --> 00:00:17.070
my file server which is L3Server.js,

00:00:17.070 --> 00:00:19.125
and then I see it's up and running.

00:00:19.125 --> 00:00:21.089
Now, here on the server code,

00:00:21.089 --> 00:00:25.199
we've done a simple post request which uses two arguments.

00:00:25.199 --> 00:00:28.500
The first being the URL you want to use.

00:00:28.500 --> 00:00:31.649
Our path is called addMovie because we want to create

00:00:31.649 --> 00:00:36.149
an API where we add a movie and give it a score on a scale of 1-5.

00:00:36.149 --> 00:00:39.979
Here, addMovie is going to take the information we

00:00:39.979 --> 00:00:43.699
get from request.body which is what we're really interested in.

00:00:43.700 --> 00:00:47.540
We want the body of our post request and we're going to push it into

00:00:47.539 --> 00:00:52.494
our data array up here so that will have access to it from anywhere within our app.

00:00:52.494 --> 00:00:55.239
But let's take a look on the client-side.

00:00:55.240 --> 00:00:57.875
This should look familiar by this point.

00:00:57.875 --> 00:01:00.770
You see, we have our method post,

00:01:00.770 --> 00:01:04.505
we've made sure that JSON is all lined up,

00:01:04.504 --> 00:01:09.189
and then we're going to call our function postData.

00:01:09.189 --> 00:01:12.515
We're going to pass in the path which is addMovie,

00:01:12.515 --> 00:01:15.920
and then we're going to pass in some information that we want to test out to

00:01:15.920 --> 00:01:19.659
see if we can post this information to our app's data.

00:01:19.659 --> 00:01:25.155
For our test, we're going to use the movie 'The Matrix' and a score five out of five,

00:01:25.155 --> 00:01:27.739
which I may remind you is a perfect score,

00:01:27.739 --> 00:01:30.515
and we'll see if our app can grab it.

00:01:30.515 --> 00:01:36.090
So here, if we go into the browser and refresh our browser, we see boom.

00:01:36.090 --> 00:01:40.570
We've gotten movie 'The Matrix' Score 5 in our browser,

00:01:40.569 --> 00:01:45.589
and not only that because we're doing client-side and server-side,

00:01:45.590 --> 00:01:48.099
here on our server if you look in the terminal,

00:01:48.099 --> 00:01:54.520
you can see that we've also got a whole data object.

00:01:55.040 --> 00:01:58.265
That's coming from this line of code which says

00:01:58.265 --> 00:02:00.950
after we push the information we want into

00:02:00.950 --> 00:02:08.180
data console.log or apps data which we now have movie 'The Matrix' Score 5.

00:02:08.180 --> 00:02:11.390
Okay. Let's try another example.

00:02:11.389 --> 00:02:16.239
What if we wanted to add another movie and another score to our app endpoint?

00:02:16.240 --> 00:02:20.159
We'll call our postData function again,

00:02:20.159 --> 00:02:27.219
and then we'll pass in the same URL because we want to addMovie.

00:02:27.219 --> 00:02:31.819
Now, we're going to pass in the data in the form of an object.

00:02:31.819 --> 00:02:36.209
So we'll make our object by saying movie.

00:02:37.110 --> 00:02:41.210
What's another great movie?

00:02:41.689 --> 00:02:48.590
'Pitch Perfect,' that'll do.

00:02:48.590 --> 00:02:53.830
Then for score, I'm tempted to give it a five,

00:02:53.830 --> 00:02:55.760
but we can't give every movie a five,

00:02:55.759 --> 00:02:59.375
so we'll go 4.5, nearly perfect.

00:02:59.375 --> 00:03:04.050
Now, when we save our new code,

00:03:04.050 --> 00:03:05.805
we should go to our app,

00:03:05.805 --> 00:03:07.800
we'll refresh, and boom.

00:03:07.800 --> 00:03:11.030
We see this time, we got 'Pitch Perfect' with a score of

00:03:11.030 --> 00:03:16.504
4.5 and that's in the browser which is our client-side code.

00:03:16.504 --> 00:03:19.460
But if we go over to our server in the terminal,

00:03:19.460 --> 00:03:23.960
we can see that our data object now holds the matrix with

00:03:23.960 --> 00:03:29.010
a score of five and Pitch Perfect with a score of 4.5.

00:03:29.009 --> 00:03:32.269
If we look in the terminal from our server code,

00:03:32.270 --> 00:03:35.225
we can now see that all the data has been saved

00:03:35.224 --> 00:03:38.734
into our data object and it's being given back to us here.

00:03:38.735 --> 00:03:46.190
We can see movie 'The Matrix Score 5,' movie 'Pitch Perfect' score is 4.5.

00:03:46.189 --> 00:03:49.579
So that's how we work together with the server and

00:03:49.580 --> 00:03:55.320
the client-side to bring together our routes and our requests.最新课程跟课件还有一对一辅导请加wx：udacity6

