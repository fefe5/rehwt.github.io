<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Webpack and Sass</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Sass and Webpack</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Sass Basics.html">01. Sass Basics</a>
    </li>
    <li class="">
      <a href="02. Sass Nesting.html">02. Sass Nesting</a>
    </li>
    <li class="">
      <a href="03. Exercise Sass Conversion.html">03. Exercise: Sass Conversion</a>
    </li>
    <li class="">
      <a href="04. Sass Variables.html">04. Sass Variables</a>
    </li>
    <li class="">
      <a href="05. Sass Ampersand.html">05. Sass Ampersand</a>
    </li>
    <li class="">
      <a href="06. Webpack and Sass.html">06. Webpack and Sass</a>
    </li>
    <li class="">
      <a href="07. Exercise Sass Loaders &amp; Webpack.html">07. Exercise: Sass Loaders &amp; Webpack</a>
    </li>
    <li class="">
      <a href="08. Optional Exercise Challenge.html">08. Optional Exercise: Challenge</a>
    </li>
    <li class="">
      <a href="09. Conclusion.html">09. Conclusion</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">06. Webpack and Sass</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="switch-the-git-branch">Switch the Git Branch</h2>
<p>You can continue to practice the exercise instructions below on <code>0-initial-setup</code> branch, or you can switch to <code>1-add-sass-loaders</code> branch corresponding to the current exercise where all the steps have already been carried out. Use the following checkout command in your project root directory:</p>
<pre><code>git checkout 1-add-sass-loaders</code></pre>
<h2 id="set-up-sass-with-webpack">Set up Sass with Webpack</h2>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Installing Loaders</p></h3>
  <div>
  <p>So now for the webpack portion of all of this. Like we talked about earlier, we are going to use webpack loaders to turn our sass into css. First let’s install all the tools we’ll need:</p>
<pre><code>npm i -D style-loader node-sass css-loader sass-loader</code></pre>
<p>Then add this test case to the rules array in your dev webpack config.</p>
<pre><code>{
        test: /\.scss$/,
        use: [ 'style-loader', 'css-loader', 'sass-loader' ]
}</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>FEND C4 L3 A03 WEBPACK AND SASS</p></h3>
  <video controls>
  <source src="06. FEND C4 L3 A03 WEBPACK AND SASS-kdt0_KhohHE.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="zh-CN" src="06. FEND C4 L3 A03 WEBPACK AND SASS-kdt0_KhohHE.zh-CN.vtt" label="zh-CN">
  <track default="true" kind="subtitles" srclang="en" src="06. FEND C4 L3 A03 WEBPACK AND SASS-kdt0_KhohHE.en.vtt" label="en">
</video>


  <div class="jumbotron" style="margin-top: 50px; margin-bottom: 50px;">
    <h3>INSTRUCTOR NOTE:</h3>
    <p><strong>Erratum</strong>: In between the timestamp 0:32 - 1:36, in <code>webpack.dev.js</code>  file, the Instructor has shown a test case for <code>'/\.scss$/'</code> with-in quotes, but then she has shown the same regex without quotes, at timestamp 3:32. You have to <strong>use it without quotes</strong>, as <code>test:  /\.scss$/</code>. </p>
  </div>
</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Quiz</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>What is going wrong in the video?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="rbk1" name="916581" id="rbk1">
        <label for="rbk1"><p>we don't have the right test case</p></label>
      </div>
      <div>
        <input type="radio" value="rbk2" name="916581" id="rbk2">
        <label for="rbk2"><p>we still need another loader for the step between css-loader and style-loader</p></label>
      </div>
      <div>
        <input type="radio" value="rbk3" name="916581" id="rbk3">
        <label for="rbk3"><p>we aren't importing the sass files as a dependency</p></label>
      </div>
      <div>
        <input type="radio" value="rbk4" name="916581" id="rbk4">
        <label for="rbk4"><p>we have to edit our server.js file</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    we aren't importing the sass files as a dependency
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Well, if you think back to how we got the javascript files into our <code>main.js</code>, we are missing one of those steps for our css. There are the following steps that you have to do to use webpack loaders:</p>
<ol>
<li><p>Install the sass loader, using <code>npm i -D style-loader node-sass css-loader sass-loader</code>. Babel loader is optional to be install for this exercise, <code>npm i -D @babel/core @babel/preset-env babel-loader</code></p></li>
<li><p>Call the loader to the "rules" array in the <code>webpack.dev.js</code> config while targeting the correct file extensions. </p></li>
</ol>
<pre><code>{
        test: /\.scss$/,
        use: [ 'style-loader', 'css-loader', 'sass-loader' ]
}</code></pre>
<ol start="3">
<li>In the last exercise, we already had converted our <code>.css</code> to <code>.scss</code> in <code>client/style</code> directory. Now we need to import the files in <code>index.js</code>. And because of the dependency tree that webpack builds, if nothing ever is imported, it’s as if it doesn’t exist. So, to fix that, let’s go to <code>client/index.js</code>. Because of css-loader, we can add lines like this:</li>
</ol>
<pre><code>import './styles/resets.scss'
import './styles/base.scss'
import './styles/footer.scss'
import './styles/form.scss'
import './styles/header.scss'</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <ol start="4">
<li>Run webpack and look for your styles in the bundled js file. The included <code>package.json</code> file in branch <code>1-add-sass-loaders</code> has been adjusted to not use webpack-dev-server. Now run <code>npm run build-dev</code> and <code>npm run start</code> so that you can verify in the browser, as shown in the snapshot below:</li>
</ol>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screenshot-2020-06-18-at-1.41.48-pm.png" alt="App running with style-loaders at port 8080" class="img img-fluid">
    <figcaption class="figure-caption">
      <p>App running with style-loaders at port 8080</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p><strong><em>This time check the</em></strong> <code>main.js</code> <strong><em>for some of our sass styles, and they should just be there!</em></strong></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Next Steps</p></h3>
  <div>
  <p>Now, one thing that might feel awkward, is that all of our css styles are being run through our main.js. Webpack natively only understands javascript, so it makes sense that until we tell it to do otherwise, it turns everything into javascript by default. Now, this isn’t a problem for development mode necessarily, but it can cause styles to load a split second after content on the server, so we are going to have to clean that up for production mode later on. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Quiz</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>The following loaders would run in which order:</p>
<pre><code>{
        test: /\.less$/,
        use: [ 'one', 'two', 'three' ]
}</code></pre></legend>
    </fieldset>

      <div>
        <input type="radio" value="rbk1" name="916578" id="rbk1">
        <label for="rbk1"><p>one, two, three</p></label>
      </div>
      <div>
        <input type="radio" value="rbk2" name="916578" id="rbk2">
        <label for="rbk2"><p>three, two, one</p></label>
      </div>
      <div>
        <input type="radio" value="rbk3" name="916578" id="rbk3">
        <label for="rbk3"><p>(if two is a long running process)<br />
three, one, two</p></label>
      </div>
      <div>
        <input type="radio" value="rbk4" name="916578" id="rbk4">
        <label for="rbk4"><p>(if two is a long running process)<br />
one, three, two</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    three, two, one
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Interview Question</p></h3>
  <div>
  <p><strong>QUESTION: <p>Interview Question</p></strong></p>
  <p>Explain the practice of chaining loaders in webpack. What is the value of this webpack feature, how is it implemented, etc..</p>

  <details>
    <summary><strong>ANSWER:</strong></summary>
    <p><p>Thanks for your response!</p></p>
  </details>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="additional-resources">Additional Resources</h3>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Webpack and Sass Conclusion</p></h3>
  <div>
  <p>We know enough sass to be dangerous, and we can add it to a webpack project. We got a little more practice with loaders and learned that they can be a lot more helpful when chained together than just by themselves. </p>
<p>There are so many more things that you can do with loaders that we just don’t have time to go into. Some of these things include:</p>
<ul>
<li><a href="https://medium.com/a-beginners-guide-for-webpack-2/handling-images-e1a2a2c28f8d" rel="noopener noreferrer" target="_blank">Loading images</a></li>
<li><a href="https://webpack.js.org/guides/typescript/" rel="noopener noreferrer" target="_blank">Working in typescript or other languages that compile to javascript</a></li>
<li>Working with third party style and js libraries like <a href="https://getbootstrap.com/docs/4.0/getting-started/webpack/" rel="noopener noreferrer" target="_blank">Bootstrap</a> or <a href="https://github.com/callemall/material-ui-webpack-example" rel="noopener noreferrer" target="_blank">Material</a></li>
</ul>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="07. Exercise Sass Loaders &amp; Webpack.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('06. Webpack and Sass')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
