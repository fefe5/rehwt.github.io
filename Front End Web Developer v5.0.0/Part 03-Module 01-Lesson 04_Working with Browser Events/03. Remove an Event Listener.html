<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Remove an Event Listener</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Working with Browser Events</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. Respond to Events.html">02. Respond to Events</a>
    </li>
    <li class="">
      <a href="03. Remove an Event Listener.html">03. Remove an Event Listener</a>
    </li>
    <li class="">
      <a href="04. Phases of an Event.html">04. Phases of an Event</a>
    </li>
    <li class="">
      <a href="05. Avoid Too Many Events.html">05. Avoid Too Many Events</a>
    </li>
    <li class="">
      <a href="06. Know When The DOM Is Ready.html">06. Know When The DOM Is Ready</a>
    </li>
    <li class="">
      <a href="07. Lesson Summary.html">07. Lesson Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">03. Remove an Event Listener</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="removing-an-event-listener">Removing An Event Listener</h2>
<p>We say that we can use an event target's <code>.addEventListener()</code> method to start listening for specific events and respond to them. Let's say you only want to listen for just the first click event, respond to it, and ignore all other click events. The <code>.addEventListener()</code> event will listen for and respond to <em>all</em> click events.</p>
<p>(The newest version of the <code>.addEventListener()</code> specification <em>does</em> allow for an object to be passed as a third parameter. This object can be used to configure how the <code>.addEventListener()</code> method behaves. Of note, there is an option to listen for only a single event. However, this configuration object is not widely supported just yet).</p>
<p>To remove an event listener, we use the <code>.removeEventListener()</code> method. It sounds straightforward enough, right? However, before we look at <code>.removeEventListener()</code>, we need to take a brief review of object equality. It seems like an odd jump, but it'll make sense in just a moment.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="are-objects-equal-in-javascript">Are Objects Equal in JavaScript</h3>
<p>Equality is a common task in most programming languages, but in JavaScript, it can be a little bit tricky because JavaScript does this thing called type coercion where it will try to convert the items being compared into the same type. (e.g. string, number,). JavaScript has the double equality (<code>==</code>) operator that <em>will allow type coercion</em>. It also has the triple equality (<code>===</code>) symbol that will prevent type coercion when comparing. </p>
<p>Hopefully, this is all review. But let's talk about <em>just</em> object equality, which includes objects, arrays, and functions. Try giving this quiz a shot:</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Will the following equality test result in <code>true</code> or <code>false</code>?</p>
<pre><code class="js language-js">{ name: 'Richard' } === { name: 'Richard' }</code></pre></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1513022312326" name="475911" id="a1513022312326">
        <label for="a1513022312326"><p><code>true</code></p></label>
      </div>
      <div>
        <input type="radio" value="a1513022314843" name="475911" id="a1513022314843">
        <label for="a1513022314843"><p><code>false</code></p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    `false`
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>L3 21 HS - Object Equality</p></h3>
  <video controls>
  <source src="03. L3 21 HS - Object Equality-A1hfTM8pagg.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="zh-CN" src="03. L3 21 HS - Object Equality-A1hfTM8pagg.zh-CN.vtt" label="zh-CN">
  <track default="true" kind="subtitles" srclang="en" src="03. L3 21 HS - Object Equality-A1hfTM8pagg.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="pt-BR" src="03. L3 21 HS - Object Equality-A1hfTM8pagg.pt-BR.vtt" label="pt-BR">
  <track default="false" kind="subtitles" srclang="uz" src="03. L3 21 HS - Object Equality-A1hfTM8pagg.uz.vtt" label="uz">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Given this code:</p>
<pre><code class="js language-js">var a = {
    myFunction: function quiz() { console.log('hi'); }
};
var b = {
    myFunction: function quiz() { console.log('hi'); }
};</code></pre>
<p>Does the following code evaluate to <code>true</code> or <code>false</code>?</p>
<pre><code class="js language-js">a.myFunction === b.myFunction</code></pre></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1513022404452" name="475913" id="a1513022404452">
        <label for="a1513022404452"><p><code>true</code></p></label>
      </div>
      <div>
        <input type="radio" value="a1513022411008" name="475913" id="a1513022411008">
        <label for="a1513022411008"><p><code>false</code></p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    `false`
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Given this code:</p>
<pre><code class="js language-js">function quiz() { ... }

var a = {
    myFunction: quiz
};
var b = {
    myFunction: quiz
}</code></pre>
<p>Does the following code evaluate to <code>true</code> or <code>false</code>?</p>
<pre><code class="js language-js">a.myFunction === b.myFunction</code></pre></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1513022442668" name="475914" id="a1513022442668">
        <label for="a1513022442668"><p><code>true</code></p></label>
      </div>
      <div>
        <input type="radio" value="a1513022451261" name="475914" id="a1513022451261">
        <label for="a1513022451261"><p><code>false</code></p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    `true`
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Ok, so why do we care about any of this object/function equality? The reason is that the <code>.removeEventListener()</code> method requires you to pass <em>the same exact listener function</em> to it as the one you passed to <code>.addEventListener()</code>.</p>
<p>Let's see some pseudo-code for the <code>.removeEventListener()</code>:</p>
<pre><code class="js language-js">&lt;event-target&gt;.removeEventListener(&lt;event-to-listen-for&gt;, &lt;function-to-remove&gt;);</code></pre>
<p>So an event listener needs three things:</p>
<ol>
<li>an event target - this is called the <strong>target</strong></li>
</ol>
<ul>
<li>the type of event to listen for - this is called the <strong>type</strong></li>
<li>the function to remove - this is called the <strong>listener</strong></li>
</ul>
<p>Remember, the <em>listener</em> function must be the <em>exact</em> same function as the one used in the <code>.addEventListener()</code> call…not just an identical looking function. Let's look at a couple of examples.</p>
<p>This code will successfully add and then remove an event listener:</p>
<pre><code class="js language-js">function myEventListeningFunction() {
    console.log('howdy');
}

// adds a listener for clicks, to run the `myEventListeningFunction` function
document.addEventListener('click', myEventListeningFunction);

// immediately removes the click listener that should run the `myEventListeningFunction` function
document.removeEventListener('click', myEventListeningFunction);</code></pre>
<p>Now, why does this work? It works because both <code>.addEventListener()</code> and <code>.removeEventListener</code>:</p>
<ul>
<li>have the same <em>target</em></li>
<li>have the same <em>type</em></li>
<li>and pass <em>the exact same listener</em></li>
</ul>
<p>Now let's look at an example that would <em>not</em> work (it does <em>not</em> remove the event listener):</p>
<pre><code class="js language-js">// adds a listener for clicks, to run the `myEventListeningFunction` function
document.addEventListener('click', function myEventListeningFunction() {
    console.log('howdy');
});

// immediately removes the click listener that should run the `myEventListeningFunction` function
document.removeEventListener('click', function myEventListeningFunction() {
    console.log('howdy');
});</code></pre>
<p>This code does <em>not</em> successfully remove the event listener. Again, why does this <em>not</em> work?</p>
<ul>
<li>both <code>.addEventListener()</code> and <code>.removeEventListener</code> have the same <em>target</em></li>
<li>both <code>.addEventListener()</code> and <code>.removeEventListener</code> have the same <em>type</em></li>
<li><code>.addEventListener()</code> and <code>.removeEventListener</code> have their own distinct <em>listener</em> functions…they do not refer to the exact same function (<strong>this is the reason the event listener removal fails!</strong>)</li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2020-04-23-at-2.37.30-pm.png" alt="Two functions can look the same, but live in two different places in memory. Looks can be deceiving!" class="img img-fluid">
    <figcaption class="figure-caption">
      <p>Two functions can look the same, but live in two different places in memory. Looks can be deceiving!</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>When we wrote</p>
<pre><code class="js language-js">function myEventListeningFunction() {
    console.log('howdy');
}</code></pre>
<p>a second time, we actually created a completely new function that was stored in a completely new location in memory! They may look the same and do the same thing, but that doesn't make them the same. Imagine a scenario where you see two houses that look exactly the same. While the houses might look the same, their addresses are different! That's exactly what just happened in our previous example.</p>
<p>Why don't you try your hand at this!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Assuming that <code>myForm</code> is a <code>&lt;form&gt;</code> element, will the <code>&lt;form&gt;</code> element have a <code>submit</code> event listener after running the following code, or not?</p>
<pre><code class="js language-js">myForm.addEventListener('submit', function respondToSubmit(){...});
myForm.removeEventListener('submit', function respondToSubmit(){...});</code></pre></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1513022654400" name="475916" id="a1513022654400">
        <label for="a1513022654400"><p>the element will have no event listeners</p></label>
      </div>
      <div>
        <input type="radio" value="a1513022663460" name="475916" id="a1513022663460">
        <label for="a1513022663460"><p>the element will still have an event listener</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    the element will still have an event listener
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>DOM L3 29 - Finding Event Listeners</p></h3>
  <video controls>
  <source src="03. DOM L3 29 - Finding Event Listeners-chX2ZNzGXZo.mp4" type="video/mp4">

  <track default="false" kind="subtitles" srclang="zh-CN" src="03. DOM L3 29 - Finding Event Listeners-chX2ZNzGXZo.zh-CN.vtt" label="zh-CN">
  <track default="true" kind="subtitles" srclang="en" src="03. DOM L3 29 - Finding Event Listeners-chX2ZNzGXZo.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="pt-BR" src="03. DOM L3 29 - Finding Event Listeners-chX2ZNzGXZo.pt-BR.vtt" label="pt-BR">
  <track default="false" kind="subtitles" srclang="uz" src="03. DOM L3 29 - Finding Event Listeners-chX2ZNzGXZo.uz.vtt" label="uz">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="whats-next">What's Next?</h2>
<p>Now that we've learned about adding and removing event listeners, it's time to learn about the <em>phases</em> of an event!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="recap">Recap</h2>
<p>In this section, you learned about how to remove event listeners. You took a dive into object equality and how that plays a huge part in removing an event. Lastly, we also looked at how you can find out what event listener a DOM element has by using the DevTools.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="further-research">Further Research</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener" rel="noopener noreferrer" target="_blank">removeEventListener on MDN</a></li>
<li><a href="https://developers.google.com/web/updates/2015/05/easily-jump-to-event-listeners" rel="noopener noreferrer" target="_blank">Easily jump to event listeners</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness" rel="noopener noreferrer" target="_blank">Equality comparisons and sameness</a></li>
<li><a href="http://adripofjavascript.com/blog/drips/object-equality-in-javascript.html" rel="noopener noreferrer" target="_blank">Article: Object Equality in JavaScript</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget" rel="noopener noreferrer" target="_blank">EventTarget Interface</a></li>
</ul>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="04. Phases of an Event.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('03. Remove an Event Listener')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
